<!-- Menu Header-->
<div class="container">
  <mat-toolbar>
    <button mat-icon-button (click)="sidenav.toggle()" matTooltip="Menu">
      <mat-icon>menu</mat-icon>
    </button>
    <a routerLink="home">Projeção Profissional</a>

    <span class="toolbar-item-spacer"></span>

    <button mat-button [matMenuTriggerFor]="menu">
      {{ firstOffice.fantasyName }} <mat-icon>keyboard_arrow_down</mat-icon>
    </button>
    <mat-menu #menu="matMenu" xPosition="before">
      <div *ngFor="let element of officeResponses">
        <button mat-menu-item (click)="changeCurrentOffice(element)">
          {{ element.fantasyName }}
        </button>
      </div>
    </mat-menu>

    <button mat-icon-button matTooltip="Suporte">
      <mat-icon>help</mat-icon>
    </button>
    <button
      mat-icon-button
      matBadge="1"
      [matBadgeHidden]="hidden"
      (click)="toggleBadgeVisibility()"
      matBadgeColor="warn"
      matTooltip="Notificações"
      [matMenuTriggerFor]="notificationMenu"
    >
      <mat-icon>notifications</mat-icon>
    </button>
    <mat-menu #notificationMenu>
      <mat-card class="example-card">
        <mat-card-title>Shiba Inu</mat-card-title>
        <mat-card-subtitle>Dog Breed</mat-card-subtitle>
        <mat-card-content>
          <p>This card indeterminates progress bar.</p>
          <p>{{ longText }}</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>LIKE</button>
          <button mat-button>SHARE</button>
        </mat-card-actions>
        <mat-divider></mat-divider>
        <mat-card-content>
          <p>This card indeterminates progress bar.</p>
          <p>{{ longText }}</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>LIKE</button>
          <button mat-button>SHARE</button>
        </mat-card-actions>
        <mat-divider></mat-divider>
      </mat-card>
    </mat-menu>

    <button
      class="btn-picture"
      matTooltip="Minha Conta"
      [matMenuTriggerFor]="userAccountMenu"
    >
      <img
        [lazyLoad]="personPicture"
        defaultImage="https://s3.amazonaws.com/37assets/svn/765-default-avatar.png"
        width="30"
        height="30"
      />
      <mat-icon class="icon-display">arrow_drop_down</mat-icon>
    </button>
    <mat-menu #userAccountMenu [overlapTrigger]="false" yPosition="below">
      <button mat-menu-item routerLink="profile">
        <mat-icon>person</mat-icon><span>Minha Conta</span>
      </button>
      <button mat-menu-item routerLink="permission" *ngIf="canAdminAccess">
        <mat-icon>settings</mat-icon><span>Permissões</span>
      </button>
      <button mat-menu-item routerLink="#">
        <mat-icon>help</mat-icon><span>Ajuda</span>
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>Sair
      </button>
    </mat-menu>
  </mat-toolbar>

  <!-- Sidenav Menu -->
  <mat-sidenav-container class="app-container">
    <mat-sidenav
      #sidenav
      [mode]="modeNavMenu"
      [class.mat-elevation-z4]="true"
      class="app-sidenav"
      opened="true"
    >
      <div>
        <mat-nav-list>
          <div mat-subheader>Perfil</div>
          <mat-list-item *ngIf="this.isAdmin">
            <mat-icon class="icon-display">account_circle</mat-icon>
            <span>ADMIN - FULL ACCESS</span>
          </mat-list-item>
          <mat-list-item *ngIf="!this.isAdmin">
            <mat-icon class="icon-display">account_circle</mat-icon>
            <span>{{ personName }}</span>
          </mat-list-item>

          <mat-list-item routerLink="home">
            <mat-icon>home</mat-icon> <span>Home</span>
          </mat-list-item>
          <div mat-subheader>Cadastros</div>
          <mat-list-item routerLink="segment" *ngIf="this.isAdmin">
            <mat-icon>account_tree</mat-icon> <span>Segmentos</span>
          </mat-list-item>
          <mat-list-item routerLink="holding" *ngIf="this.isAdmin">
            <mat-icon>domain_add</mat-icon> <span>Grupos</span>
          </mat-list-item>
          <mat-list-item routerLink="company" *ngIf="this.isAdmin">
            <mat-icon>apartment</mat-icon> <span>Empresas</span>
          </mat-list-item>
          <mat-list-item routerLink="office" *ngIf="this.isAdmin">
            <mat-icon>storefront</mat-icon> <span>Unidades</span>
          </mat-list-item>
          <mat-list-item
            routerLink="person"
            *ngIf="
              this.isAdmin ||
              this.isAdminGeral ||
              this.isAdminEmpresa ||
              this.isAdminOffice ||
              this.isSupervisor
            "
          >
            <mat-icon>person</mat-icon> <span>Colaboradores</span>
          </mat-list-item>
          <mat-list-item
            routerLink="autonomous"
            *ngIf="
              this.isAdmin ||
              this.isAdminGeral ||
              this.isAdminEmpresa ||
              this.isAdminOffice ||
              this.isSupervisor
            "
          >
            <mat-icon>group</mat-icon> <span>Profissionais</span>
          </mat-list-item>
          <mat-list-item
            routerLink="supplier"
            *ngIf="
              this.isAdmin ||
              this.isAdminGeral ||
              this.isAdminEmpresa ||
              this.isAdminOffice ||
              this.isSupervisor
            "
          >
            <mat-icon>engineering</mat-icon> <span>Fornecedores</span>
          </mat-list-item>
          <mat-list-item routerLink="responsibility">
            <mat-icon>badge</mat-icon> <span>Funções</span>
          </mat-list-item>
          <mat-list-item routerLink="routine">
            <mat-icon>event_available</mat-icon> <span>Rotinas</span>
          </mat-list-item>
          <mat-list-item routerLink="goal">
            <mat-icon>flag</mat-icon> <span>Metas</span>
          </mat-list-item>
          <mat-divider></mat-divider>
          <div mat-subheader>Documentos</div>
          <mat-list-item routerLink="document">
            <mat-icon>folder_home</mat-icon> <span>Documentos</span>
          </mat-list-item>
          <mat-list-item
            routerLink="suggestion"
            *ngIf="
              this.isAdmin ||
              this.isAdminGeral ||
              this.isAdminEmpresa ||
              this.isAdminOffice
            "
          >
            <mat-icon>support_agent</mat-icon> <span>Sugestões</span>
          </mat-list-item>
          <mat-list-item routerLink="permission" *ngIf="canAdminAccess">
            <mat-icon>settings</mat-icon> <span>Permissões</span>
          </mat-list-item>
          <div mat-subheader>Logout</div>
          <mat-list-item (click)="logout()">
            <mat-icon>exit_to_app</mat-icon> <span>Sair</span>
          </mat-list-item>
        </mat-nav-list>
      </div>
    </mat-sidenav>

    <!-- Sidenav Content -->
    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
